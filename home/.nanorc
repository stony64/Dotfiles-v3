# ------------------------------------------------------------------------------
# FILE:          .nanorc
# VERSION:       1.5.0
# DESCRIPTION:   Nano 8.4+
# AUTHOR:        Stony64
# ------------------------------------------------------------------------------

# --- 1. EDITOR CORE -----------------------------------------------------------
set autoindent
set tabsize 4
set tabstospaces
set softwrap
set atblanks
set zap
set noconvert
set locking
set jumpyscrolling
set smooth             # Flüssiger Scroll

# --- 2. UI/STATUS -------------------------------------------------------------
set linenumbers
set constantshow
set indicator
set minibar
set stateflags
set showcursor
set emptyline
set mouse              # Maus-Support (optional)

# --- 3. HISTORY/POSITION ------------------------------------------------------
set historylog
set positionlog
set searchagain        # N+ Suchen wiederholen

# --- 4. SYNTAX (System + Custom) ----------------------------------------------
include "/usr/share/nano/*.nanorc"
include "~/.nano/*.nanorc"

# --- 5. PROXMOX/ZFS SYNTAX ----------------------------------------------------
syntax "proxmox" [\.(pve|conf|cfg|qm|pct|vzctl)$]
color brightblue "^(pct|qm|pvesh|)\s+\d+.*"
color brightgreen "vmid:\s+\d+|status:\s+(running|stopped)"
color yellow      "(memory|cpu|disk):\s+\S+"
color brightmagenta "^node\s+:\s+\S+"

syntax "zfs" [\.?(zfs|pool|dataset)\.(conf|log)?$]
color brightcyan  "^(pool|dataset):\s+\S+"
color brightyellow "USED\s+[0-9GMTP]+"
color brightgreen  "AVAIL\s+[0-9GMTP]+"
color brightmagenta "MOUNTPOINT\s+(/\S+)"

# --- 6. DOTFILES FRAMEWORK SYNTAX ---------------------------------------------
syntax "dotfiles" [\.(sh|bashrc|bashaliases|bashfunctions|nanorc|dircolors|core\.sh|dctl)$]
color brightgreen "^(alias|function|df_|export\s+DF_)"
color yellow      "^df_log_(info|success|error|warn)"
color brightblue  "# --- .* ---"
color cyan        "(DF_REPO_ROOT|DF_PROJECT_VERSION)"

# --- 7. MODERN BINDINGS (stty -ixon erforderlich!) ----------------------------
bind M-C copy main          # Alt+C: Copy
bind M-V paste all          # Alt+V: Paste
bind ^F whereis all         # Strg+F: Find
bind ^H replace main        # Strg+H: Replace
bind ^S savefile main       # Strg+S: Save
bind ^Q exit all            # Strg+Q: Quit
bind ^Z undo main           # Strg+Z: Undo
bind ^Y redo main           # Strg+Y: Redo
bind ^G execute "linter" main  # Strg+G: Linter
bind M-G cut main           # Alt+G: Cut Line
bind ^K uncut main          # Strg+K: Uncut
bind ^L justify main        # Strg+L: Reformat
bind M-S suspend main       # Alt+S: Suspend

# --- 8. ULTIMATE COLORS (256-Farben) ------------------------------------------
set titlecolor brightwhite,blue
set statuscolor black,cyan
set keycolor brightwhite,blue
set numbercolor brightyellow,normal
set errorcolor brightwhite,brightred
set scursorcolor brightwhite,blue
set selectedcolor black,brightwhite
set functioncolor brightcyan,normal
set stringcolor brightgreen,normal
set commentator brightwhite,normal
set keywordcolor brightyellow,normal

# --- 9. PERFORMANCE -----------------------------------------------------------
set suspendenable           # Strg+Z Suspend
set boldtext                # Bold überall
